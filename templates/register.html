{% extends 'login_base.html' %}


{% block title %}
<title>Register page</title>
{% endblock %}


{% block content %}
<main>
    <div class="login-wrapper card">
        <h2>Sign up</h2>
        <form method="post" class="class__form">
            {% csrf_token %}
            <div class="class__form__input-wrapper-100">
                <label for="username" class="text-gray">Username</label>
                <input value="{{ username }}" required type="text" name="username" id="username" class="default-input text-default" placeholder="Type username">
            </div>
            <div class="class__form__input-wrapper-100">
                <label for="email" class="text-gray">Email</label>
                <input value="{{ email }}" required type="email" name="email" id="email" class="default-input text-default" placeholder="Type email">
            </div>
            <div class="class__form__input-wrapper-100">
                <label for="password" class="text-gray">Create password</label>
                <div class="class__form__input-wrapper-input">
                    <input value="{{ password }}" required type="password" name="password" id="password" class="default-input text-default" placeholder="Create password">
                    <button type="button" onclick="view_password(this)" class="class__form__input-eye">
                        <img src="/media/eye.svg" alt="" class="class__form__input-eye">
                    </button>
                </div>
            </div>
            <div class="class__form__input-wrapper-100">
                <label for="repeat_password" class="text-gray">Repeat password</label>
                <div class="class__form__input-wrapper-input">
                    <input value="{{ repeat_password }}" required type="password" name="repeat_password" id="repeat_password" class="default-input text-default" placeholder="Repeat password">
                    <button type="button" onclick="view_password(this)" class="class__form__input-eye">
                        <img src="/media/eye.svg" alt="" class="class__form__input-eye">
                    </button>
                </div>
            </div>
            <p class="text-danger">{{ error }}</p>
            <button type="submit" class="banner__right__btn text-default-white">Sign up</button>
            <div class="login__terms">
                <input type="checkbox" name="terms" id="terms">
                <label for="terms" class="text-gray">I agree with Terms and Conditions</label>
            </div>
        </form>
        <p class="text-default login__bottom-text">Alreade have account? <a href="{% url 'login' %}" class="text-default-primary">Sign in</a></p>
    </div>
</main>
<script>
    function view_password(btn) {
        let img = btn.children[0]
        let input = btn.previousElementSibling
        if (img.src.split('/media/')[1] == 'eye.svg') {
            img.src = '/media/eye-slash.svg'
            input.type = 'text'
        } else {
            img.src = '/media/eye.svg'
            input.type = 'password'
        }
    }
</script>
<script>
    function open_menu() {
        document.querySelector('.mobile-menu-wrapper').hidden = false;
    }
    document.querySelector('.mobile-menu-wrapper').addEventListener('click', function() {
        document.querySelector('.mobile-menu-wrapper').hidden = true;
    })
</script>
{% endblock %}